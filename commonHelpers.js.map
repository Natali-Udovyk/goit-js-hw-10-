{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nlet userSelectedDate;\nlet picker;\nconst button = document.querySelector('[data-start]');\nbutton.disabled = true;\nbutton.addEventListener('click', ()=> {\n    // Clear any existing timer\n    if (userSelectedDate) {\n        startCountdown(userSelectedDate);\n    }\n})\nfunction startCountdown(targetDate) {\n    const timerElement = document.querySelector('.timer');\n\n    function updateTimer() {\n        const now = new Date();\n        const timeRemaining = userSelectedDate - now;\n\n        if (timeRemaining <= 0) {\n            clearInterval(interval);\n            timerElement.textContent = \"Час вичерпано!\";\n            return;\n        }\n        const time = convertMs(timeRemaining);\n        \ntimerElement.innerHTML = `<div class = \"timer-2\" ><span class=\"days\">${addLeadingZero(time.days)}</span><span class='calendar'>days</span></div><div class = \"timer-2\" ><span class=\"hours\">${addLeadingZero(time.hours)}</span><span class='calendar'>hours</span></div><div class = \"timer-2\" ><span class=\"minutes\">${addLeadingZero(time.minutes)}</span><span class='calendar'>minutes</span></div><div class = \"timer-2\" ><span class=\"seconds\">${addLeadingZero(time.seconds)}</span><span class='calendar'>seconds</span></div>`;\n        \n        // Встановлення дати/часу\n        picker.setDate(new Date(Date.now() + timeRemaining));\n    }\n    updateTimer();\n    const interval = setInterval(updateTimer, 1000);\n}\n\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      console.log(selectedDates[0]);\n       userSelectedDate = selectedDates[0]; \n  if(userSelectedDate < new Date()){\n   \n    iziToast.error({message: \"Please choose a date in the future\"})\n  button.disabled = true; \n } else {\n    button.disabled = false;\n }\n    },\n  };\n  picker = flatpickr(\"#datetime-picker\", options);\n//   flatpickr('#datetime-picker', options);\n  \n\n    function convertMs(ms) {\n        // Number of milliseconds per unit of time\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n      \n        // Remaining days\n        const days = Math.floor(ms / day);\n        // Remaining hours\n        const hours = Math.floor((ms % day) / hour);\n        // Remaining minutes\n        const minutes = Math.floor(((ms % day) % hour) / minute);\n        // Remaining seconds\n        const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n      \n        return { days, hours, minutes, seconds };\n      }\n      function addLeadingZero(value){\n        return String(value).padStart(2,'0')\n      }\n   \n  \n  console.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\n  console.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\n  console.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n  "],"names":["userSelectedDate","picker","button","startCountdown","targetDate","timerElement","updateTimer","timeRemaining","interval","time","convertMs","addLeadingZero","options","selectedDates","iziToast","flatpickr","ms","days","hours","minutes","seconds","value"],"mappings":"0IASA,IAAIA,EACAC,EACJ,MAAMC,EAAS,SAAS,cAAc,cAAc,EACpDA,EAAO,SAAW,GAClBA,EAAO,iBAAiB,QAAS,IAAK,CAE9BF,GACAG,EAA+B,CAEvC,CAAC,EACD,SAASA,EAAeC,EAAY,CAChC,MAAMC,EAAe,SAAS,cAAc,QAAQ,EAEpD,SAASC,GAAc,CAEnB,MAAMC,EAAgBP,EADV,IAAI,KAGhB,GAAIO,GAAiB,EAAG,CACpB,cAAcC,CAAQ,EACtBH,EAAa,YAAc,iBAC3B,MACH,CACD,MAAMI,EAAOC,EAAUH,CAAa,EAE5CF,EAAa,UAAY,8CAA8CM,EAAeF,EAAK,IAAI,CAAC,8FAA8FE,EAAeF,EAAK,KAAK,CAAC,iGAAiGE,EAAeF,EAAK,OAAO,CAAC,mGAAmGE,EAAeF,EAAK,OAAO,CAAC,qDAG5cR,EAAO,QAAQ,IAAI,KAAK,KAAK,IAAK,EAAGM,CAAa,CAAC,CACtD,CACDD,IACA,MAAME,EAAW,YAAYF,EAAa,GAAI,CAClD,CAGA,MAAMM,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAC3Bb,EAAmBa,EAAc,CAAC,EACpCb,EAAmB,IAAI,MAExBc,EAAS,MAAM,CAAC,QAAS,oCAAoC,CAAC,EAChEZ,EAAO,SAAW,IAEhBA,EAAO,SAAW,EAEjB,CACL,EACED,EAASc,EAAU,mBAAoBH,CAAO,EAI5C,SAASF,EAAUM,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CACD,SAAST,EAAeU,EAAM,CAC5B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAE,GAAG,CACpC,CAGL,QAAQ,IAAIX,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC"}